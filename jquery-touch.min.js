(function(j){var i="touchstart touchmove touchend touchcancel";var k={};var b={};var n=false;var f=false;var l=null;var a=1000;var d="ontouchstart" in window;var c=100;var m=function(q){var p;if(j(q).attr("tap_id")){p=j(q).attr("tap_id")}else{p="tap_id_"+c++;j(q).attr("tap_id",p)}return p};var e=function(q){var p;do{q=j(q);p=q[0].tagName.toLowerCase();if(q.attr("tap_id")){return q}q=q.parent()}while(p!="body"&&p!="html");return false};var h=function(p){p=event||p;if(p.touches&&p.touches.length>1){n=true;return}var r=e(p.target);if(!r){return}var q=r.attr("tap_id");switch(p.type){case"touchstart":clearTimeout(l);l=setTimeout(function(){!n&&!f&&b[q]&&b[q]();f=true},a);break;case"touchmove":clearTimeout(l);n=true;f=false;break;case"touchend":!n&&!f&&k[q]&&k[q]();clearTimeout(l);n=false;f=false;break;case"touchcancel":clearTimeout(l);n=false;f=false;break;default:}return false};var o=function(){if(!d){return}i.split(" ").forEach(function(p){j(document).on(p,h)})};j(document).ready(o);var g={"ontap":function(q,p){if(!k[q]){k[q]=p}},"untap":function(p){delete k[p]},"onpress":function(q,p){if(!b[q]){b[q]=p}},"unpress":function(p){delete b[p]}};j.fn.extend({"tap":function(p){g.ontap(m(j(this)),j.proxy(p,this))},"untap":function(){g.untap(m(j(this)))},"press":function(p){g.onpress(m(j(this)),j.proxy(p,this))},"unpress":function(){g.unpress(m(j(this)))}})})($);