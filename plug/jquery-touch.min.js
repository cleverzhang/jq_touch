(function(j){var i="touchstart touchmove touchend touchcancel";var m="mousedown mousemove mouseup mousecancel";var o=[];var l={};var b={};var p=false;var f=false;var k=null;var a=1000;var d="ontouchstart" in window;var c=100;var n=function(s){var r;if(j(s).attr("tap_id")){r=j(s).attr("tap_id")}else{r="tap_id_"+c++;j(s).attr("tap_id",r)}return r};var e=function(s){var r;do{s=j(s);r=s[0].tagName.toLowerCase();s.on("click",function(){return false});if(s.attr("tap_id")){return s}s=s.parent()}while(r!="body"&&r!="html");return false};var h=function(r){r=event||r;if(r.touches&&r.touches.length>1){p=true;return}var t=e(r.target);if(!t){return}var s=t.attr("tap_id");switch(r.type){case o[0]:clearTimeout(k);k=setTimeout(function(){!p&&!f&&b[s]&&b[s]();f=true},a);break;case o[1]:clearTimeout(k);p=true;f=false;break;case o[2]:!p&&!f&&l[s]&&l[s]();clearTimeout(k);p=false;f=false;break;case o[3]:clearTimeout(k);p=false;f=false;break;default:}return false};var q=function(){if(!d){i=m}o=i.split(" ");o.forEach(function(r){j(document).on(r,h)})};j(document).ready(q);var g={"ontap":function(s,r){if(!l[s]){l[s]=r}},"untap":function(r){delete l[r]},"onpress":function(s,r){if(!b[s]){b[s]=r}},"unpress":function(r){delete b[r]}};j.fn.extend({"tap":function(r){g.ontap(n(j(this)),j.proxy(r,this))},"untap":function(){g.untap(n(j(this)))},"press":function(r){g.onpress(n(j(this)),j.proxy(r,this))},"unpress":function(){g.unpress(n(j(this)))}})})($);