(function(g){var a="touchstart touchmove touchend touchcancel";var b="mousedown mousemove mouseup mousecancel";var f=[];var i={};var m={};var o={};var h=false;var e=false;var l=false;var n=null;var d=1000;var q="ontouchstart" in window;var s=100;var r=function(u){var t;if(g(u).attr("tap_id")){t=g(u).attr("tap_id")}else{t="tap_id_"+s++;g(u).attr("tap_id",t)}return t};var j=function(u){var t;do{u=g(u);t=u[0].tagName.toLowerCase();if(u.attr("tap_id")){return u}u=u.parent()}while(t!="body"&&t!="html");return false};var c=function(t){t=t||event;if(t.touches&&t.touches.length>1){h=true;return false}var v=j(t.target);if(!v){h=false;e=false;l=false;return}var u=v.attr("tap_id");switch(t.type){case f[0]:clearTimeout(n);l=true;n=setTimeout(function(){if(!h&&!e&&m[u]){e=true;l=false;return m[u](t)}},d);break;case f[1]:clearTimeout(n);if(!l){return false}h=true;e=false;if(l&&o[u]){return o[u](t)}break;case f[2]:clearTimeout(n);!h&&!e&&i[u]&&i[u](t);h=false;e=false;l=false;return false;break;case f[3]:clearTimeout(n);h=false;e=false;l=false;break;default:}};var p=function(){if(!q){a=b}f=a.split(" ");f.forEach(function(t){g(document).on(t,c)})};g(document).ready(p);var k={"ontap":function(u,t){if(!i[u]){i[u]=t}},"untap":function(t){delete i[t]},"fire_tap":function(t){if(i[t]){i[t]()}},"onpress":function(u,t){if(!m[u]){m[u]=t}},"unpress":function(t){delete m[t]},"fire_press":function(t){if(m[t]){m[t]()}},"onmove":function(u,t){if(!o[u]){o[u]=t}},"unmove":function(t){delete o[t]}};g.fn.extend({"tap":function(t){g(this).each(function(){k.ontap(r(g(this)),g.proxy(t,this))})},"untap":function(){g(this).each(function(){k.untap(r(g(this)))})},"fireTap":function(){g(this).each(function(){k.fire_tap(r(g(this)))})},"press":function(t){g(this).each(function(){k.onpress(r(g(this)),g.proxy(t,this))})},"unpress":function(){g(this).each(function(){k.unpress(r(g(this)))})},"firePress":function(){g(this).each(function(){k.fire_press(r(g(this)))})},"move":function(t){g(this).each(function(){k.onmove(r(g(this)),g.proxy(t,this))})},"unmove":function(){g(this).each(function(){k.unmove(r(g(this)))})}})})($);