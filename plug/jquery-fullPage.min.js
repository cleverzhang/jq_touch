(function(b){var a="_layout_full_page";var e="_layout_full_page_close";var h="<div class='"+a+"'></div>";var d=[];var c;var i=10000;var g=function(){if(c){return}b("head").append("<style>._hidden_scroll{overflow: hidden;}."+a+"{background-color: #FFF;position: fixed;opacity: 0;transition:opacity 500ms;-moz-transition:opacity 500ms;-webkit-transition:opacity 500ms;-o-transition:opacity 500ms;top     : 0;left    : 0;right   : 0;bottom  : 0;display: none;overflow: auto;}</style>");c=true;b(window).resize(f)};var f=function(){var k=b(window);b("."+a).css({"height":k.height(),"width":k.width(),})};var j=function(){g()};j.prototype.addNewPage=function(l,k){var n=this;var m="click";l=b(l);l=b(h).append(l);if(b.fn.tap){m="tap"}b("."+e,l)[m](function(){n.hidden()});d.push(l);if(!k){k="#FFF"}l.css("backgroundColor",k);b("body").append(l);return this};j.prototype.hidden=function(){var k=d.pop();var l=this;if(k){k.css("opacity",0);setTimeout(function(){k.css("display","none");k.remove()},600)}if(d.length==0){b("body").removeClass("_hidden_scroll")}return this};j.prototype.show=function(){var l=d[d.length-1];if(l){b("body").addClass("_hidden_scroll");var k=b(window);l.css({"display":"block","height":k.height(),"width":k.width(),"zIndex":i++});setTimeout(function(){l.css("opacity",1)},15)}return this};j.prototype.clearAll=function(){var k;setTimeout(function(){b("."+a).remove()},300)};j=new j();b.extend({"fullPage":j})})($);